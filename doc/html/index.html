<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMF: NMF: No More Free</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMF
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">a garbage collector library for C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">NMF: No More Free </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Introduction</h2>
<p>The NMF library acts like a garbage collector: it keeps a list of all allocation you have in your code and automatically free all of them at the end.</p>
<h2>Usage</h2>
<ol type="1">
<li>Download the library code or clone it from this GitHub repository</li>
<li>Move the code into your project source directory</li>
<li>Add it to your makefile (or add it to your IDE project)</li>
<li>Include the <a class="el" href="libnmf_8h_source.html">libnmf.h</a> header into the source files where you want to use the NMF library</li>
<li>In those files, replace all of your malloc() calls with <a class="el" href="group___public.html#ga1e4c34a77f9e4a1c82a68e65dccb0b14">nmf_malloc()</a></li>
<li>In those files, replace all of your free() calls with <a class="el" href="group___public.html#gabe542d3b177e47c0eba1f7d56ec6eb23">nmf_free()</a>, or comment them at all (the library will free all buffers for you)</li>
<li>Add to your compiler flags <code>-finstrument-functions</code></li>
<li>Compile!</li>
</ol>
<p>Thatâ€™s it!</p>
<h2>Important note</h2>
<p>This library collects all allocations done into every function. At the end of the function, all buffer allocated from the start of the same function will be freed. If you usually alloc buffers into function and use them as return values, you should avoid that. Instead, you should alloc the buffer in the caller function, pass the pointer as parameter and just fill it.</p>
<h2>Debug mode</h2>
<p>If you want to see a verbose library output, to check all operations, add this define to your compilers flags <code>-DNMF_DETAILED_DEBUG</code>.</p>
<h2>Tuning</h2>
<p>If you want to tune the library perfectly on your project, you should check this compiler flags:</p><ul>
<li><code>NMF_MAX_MALLOC_PER_RESIZE</code>, this is the initial length of the allocation list. The library will automatically increase the size when needed, but this operation is not cost-less. If you want, you can tune this value depending on the number of allocations you need.</li>
<li><code>NMF_MAX_FILENAME_LEN</code>, this is the size of the buffer containing the file name. It is used only in debug mode. If your files have names longer than this value and you want to see them whole, tune this value. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
